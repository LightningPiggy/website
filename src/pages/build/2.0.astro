---
import ContentLayout from '../../layouts/ContentLayout.astro';
import { getCollection, render } from 'astro:content';

const posts = await getCollection('guides');
const buildPost = posts.find(p => p.data.slug === 'build2');

let Content = null;
if (buildPost) {
  const rendered = await render(buildPost);
  Content = rendered.Content;
}
---

<ContentLayout
  title="Build Lightning Piggy 2.0"
  description="Step-by-step guide to building the LCD touchscreen edition Lightning Piggy"
  heroImage={buildPost?.data.heroImage}
>
  <div class="not-prose mb-8 p-4 bg-pink-light/50 border border-pink rounded-xl">
    <p class="text-sm text-gray-700">
      <strong>Latest Version:</strong> This guide is for Lightning Piggy 2.0, the recommended version
      with LCD touchscreen and MicroPythonOS.
    </p>
  </div>

  {Content && <Content />}
</ContentLayout>
